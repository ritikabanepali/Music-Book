{"ast":null,"code":"var _jsxFileName = \"/Users/ritikabanepali/Full Spotify Project/frontend/src/pages/MyReviewsPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport apiClient from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MyReviewsPage() {\n  _s();\n  const [reviews, setReviews] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    const fetchMyReviews = async () => {\n      try {\n        // This endpoint gets reviews only for the logged-in user\n        const response = await apiClient.get(\"/reviews/?user=me\");\n        setReviews(response.data);\n      } catch (err) {\n        setError('Failed to load your reviews.');\n        console.error(err);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchMyReviews();\n  }, []); // Empty array means this runs only once when the component mounts\n\n  if (isLoading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading your reviews...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 27\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    style: {\n      color: 'red'\n    },\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"My Reviews\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this), reviews.length > 0 ? reviews.map(review => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: '1px solid #ccc',\n        margin: '10px',\n        padding: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `/album/${review.album.spotify_id}`,\n          children: review.album.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"My Rating:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 28\n        }, this), \" \", review.rating, \" / 5\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"My Comment:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 28\n        }, this), \" \", review.comment]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 25\n      }, this)]\n    }, review.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 21\n    }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"You haven't written any reviews yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 9\n  }, this);\n}\n_s(MyReviewsPage, \"fAh0u+KeNTiSReeEE7HoD0P1u6M=\");\n_c = MyReviewsPage;\nexport default MyReviewsPage;\nvar _c;\n$RefreshReg$(_c, \"MyReviewsPage\");","map":{"version":3,"names":["React","useState","useEffect","Link","apiClient","jsxDEV","_jsxDEV","MyReviewsPage","_s","reviews","setReviews","isLoading","setIsLoading","error","setError","fetchMyReviews","response","get","data","err","console","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","length","map","review","border","margin","padding","to","album","spotify_id","title","rating","comment","id","_c","$RefreshReg$"],"sources":["/Users/ritikabanepali/Full Spotify Project/frontend/src/pages/MyReviewsPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport apiClient from '../api';\n\nfunction MyReviewsPage() {\n    const [reviews, setReviews] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [error, setError] = useState('');\n\n    useEffect(() => {\n        const fetchMyReviews = async () => {\n            try {\n                // This endpoint gets reviews only for the logged-in user\n                const response = await apiClient.get(\"/reviews/?user=me\");\n                setReviews(response.data);\n            } catch (err) {\n                setError('Failed to load your reviews.');\n                console.error(err);\n            } finally {\n                setIsLoading(false);\n            }\n        };\n\n        fetchMyReviews();\n    }, []); // Empty array means this runs only once when the component mounts\n\n    if (isLoading) return <p>Loading your reviews...</p>;\n    if (error) return <p style={{ color: 'red' }}>{error}</p>;\n\n    return (\n        <div>\n            <h1>My Reviews</h1>\n            {reviews.length > 0 ? (\n                reviews.map(review => (\n                    <div key={review.id} style={{ border: '1px solid #ccc', margin: '10px', padding: '10px' }}>\n                        {/* Since the album data is nested, we can display it here */}\n                        <h3>\n                            <Link to={`/album/${review.album.spotify_id}`}>\n                                {review.album.title}\n                            </Link>\n                        </h3>\n                        <p><strong>My Rating:</strong> {review.rating} / 5</p>\n                        <p><strong>My Comment:</strong> {review.comment}</p>\n                    </div>\n                ))\n            ) : (\n                <p>You haven't written any reviews yet.</p>\n            )}\n        </div>\n    );\n}\n\nexport default MyReviewsPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}