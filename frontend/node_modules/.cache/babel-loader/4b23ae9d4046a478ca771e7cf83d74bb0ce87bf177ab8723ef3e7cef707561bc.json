{"ast":null,"code":"// src/components/Login.js\n\nconst handleSubmit = async e => {\n  e.preventDefault();\n  setError('');\n  try {\n    const response = await apiClient.post('/token/', {\n      username: username,\n      password: password\n    });\n    localStorage.setItem('accessToken', response.data.access);\n\n    // CHANGE THIS:\n    // navigate('/home'); \n\n    // TO THIS:\n    // This forces a full page reload, ensuring the auth state is updated everywhere.\n    window.location.href = '/home';\n  } catch (err) {\n    setError('Login failed. Please check your credentials.');\n    console.error(err);\n  }\n};","map":{"version":3,"names":["handleSubmit","e","preventDefault","setError","response","apiClient","post","username","password","localStorage","setItem","data","access","window","location","href","err","console","error"],"sources":["/Users/ritikabanepali/Full Spotify Project/frontend/src/components/Login.js"],"sourcesContent":["// src/components/Login.js\n\nconst handleSubmit = async (e) => {\n    e.preventDefault(); \n    setError('');\n    try {\n        const response = await apiClient.post('/token/', {\n            username: username,\n            password: password,\n        });\n        localStorage.setItem('accessToken', response.data.access);\n        \n        // CHANGE THIS:\n        // navigate('/home'); \n\n        // TO THIS:\n        // This forces a full page reload, ensuring the auth state is updated everywhere.\n        window.location.href = '/home';\n\n    } catch (err) {\n        setError('Login failed. Please check your credentials.');\n        console.error(err);\n    }\n};"],"mappings":"AAAA;;AAEA,MAAMA,YAAY,GAAG,MAAOC,CAAC,IAAK;EAC9BA,CAAC,CAACC,cAAc,CAAC,CAAC;EAClBC,QAAQ,CAAC,EAAE,CAAC;EACZ,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMC,SAAS,CAACC,IAAI,CAAC,SAAS,EAAE;MAC7CC,QAAQ,EAAEA,QAAQ;MAClBC,QAAQ,EAAEA;IACd,CAAC,CAAC;IACFC,YAAY,CAACC,OAAO,CAAC,aAAa,EAAEN,QAAQ,CAACO,IAAI,CAACC,MAAM,CAAC;;IAEzD;IACA;;IAEA;IACA;IACAC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,OAAO;EAElC,CAAC,CAAC,OAAOC,GAAG,EAAE;IACVb,QAAQ,CAAC,8CAA8C,CAAC;IACxDc,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;EACtB;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}